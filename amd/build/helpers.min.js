define ("mod_bigbluebuttonbn/helpers",["core/yui"],function(a){return{init:function init(){this.initElementTag();this.initElementFAClass();this.initElementActionReversed()},toggleSpinningWheelOn:function toggleSpinningWheelOn(b){var c,d,e,f;c=this.elementId(b.action,b.target);f=M.util.get_string("view_recording_list_action_"+b.action,"bigbluebuttonbn");d=a.one("a#"+c+"-"+b.recordingid);d.setAttribute("data-onclick",d.getAttribute("onclick"));d.setAttribute("onclick","");e=d.one("> i");if(null===e){this.toggleSpinningWheelOnCompatible(d,f);return}e.setAttribute("data-aria-label",e.getAttribute("aria-label"));e.setAttribute("aria-label",f);e.setAttribute("data-title",e.getAttribute("title"));e.setAttribute("title",f);e.setAttribute("data-class",e.getAttribute("class"));e.setAttribute("class",this.elementFaClass.process)},toggleSpinningWheelOnCompatible:function toggleSpinningWheelOnCompatible(a,b){var c=a.one("> img");if(null===c){return}c.setAttribute("data-alt",c.getAttribute("alt"));c.setAttribute("alt",b);c.setAttribute("data-title",c.getAttribute("title"));c.setAttribute("title",b);c.setAttribute("data-src",c.getAttribute("src"));c.setAttribute("src","pix/i/processing16.gif")},toggleSpinningWheelOff:function toggleSpinningWheelOff(a){var b,c,d;b=this.elementId(a.action,a.target);c=Y.one("a#"+b+"-"+a.recordingid);c.setAttribute("onclick",c.getAttribute("data-onclick"));c.removeAttribute("data-onclick");d=c.one("> i");if(null===d){this.toggleSpinningWheelOffCompatible(c.one("> img"));return}d.setAttribute("aria-label",d.getAttribute("data-aria-label"));d.removeAttribute("data-aria-label");d.setAttribute("title",d.getAttribute("data-title"));d.removeAttribute("data-title");d.setAttribute("class",d.getAttribute("data-class"));d.removeAttribute("data-class")},toggleSpinningWheelOffCompatible:function toggleSpinningWheelOffCompatible(a){if(null===a){return}a.setAttribute("alt",a.getAttribute("data-alt"));a.removeAttribute("data-alt");a.setAttribute("title",a.getAttribute("data-title"));a.removeAttribute("data-title");a.setAttribute("src",a.getAttribute("data-src"));a.removeAttribute("data-src")},updateData:function updateData(a){var b,c,d,e,f,g,h;b=this.elementActionReversed[a.action];if(b===a.action){return}c=this.elementId(a.action,a.target);d=Y.one("a#"+c+"-"+a.recordingid);d.setAttribute("data-action",b);e=d.getAttribute("data-onclick").replace(this.capitalize(a.action),this.capitalize(b));d.setAttribute("data-onclick",e);g=M.util.get_string("view_recording_list_actionbar_"+b,"bigbluebuttonbn");h=this.elementTag[b];f=d.one("> i");if(null===f){this.updateDataCompatible(d.one("> img"),this.elementTag[a.action],h,g);return}f.setAttribute("data-aria-label",g);f.setAttribute("data-title",g);f.setAttribute("data-class",this.elementFaClass[b])},updateDataCompatible:function updateDataCompatible(a,b,c,d){if(null===a){return}var e=a.getAttribute("data-src");a.setAttribute("data-alt",d);a.setAttribute("data-title",d);a.setAttribute("data-src",e.replace(c,b))},updateId:function updateId(a){var b,c,d,e,f;b=this.elementActionReversed[a.action];if(b===a.action){return}c=this.elementId(a.action,a.target);d=Y.one("a#"+c+"-"+a.recordingid);f=""+c.replace(a.action,b)+"-"+a.recordingid;d.setAttribute("id",f);e=d.one("> i");if(null===e){e=d.one("> img")}e.removeAttribute("id")},elementId:function elementId(a,b){var c="recording-"+a;if("undefined"!=typeof b){c+="-"+b}return c},initElementTag:function initElementTag(){return{play:"play",publish:"hide",unpublish:"show",protect:"lock",unprotect:"unlock",edit:"edit",process:"process",import:"import",delete:"delete"}},initElementFAClass:function initElementFAClass(){return{publish:"icon fa fa-eye-slash fa-fw iconsmall",unpublish:"icon fa fa-eye fa-fw iconsmall",protect:"icon fa fa-unlock fa-fw iconsmall",unprotect:"icon fa fa-lock fa-fw iconsmall",edit:"icon fa fa-pencil fa-fw iconsmall",process:"icon fa fa-spinner fa-spin iconsmall",import:"icon fa fa-download fa-fw iconsmall",delete:"icon fa fa-trash fa-fw iconsmall"}},initElementActionReversed:function initElementActionReversed(){return{play:"play",publish:"unpublish",unpublish:"publish",protect:"unprotect",unprotect:"protect",edit:"edit",import:"import",delete:"delete"}},reloadPreview:function reloadPreview(a){var b=Y.one("#preview-"+a).all("> img");b.each(function(a){var b=a.getAttribute("src");b=b.substring(0,b.indexOf("?"));b+="?"+new Date().getTime();a.setAttribute("src",b)})},capitalize:function capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)},alertError:function alertError(a,b){if("undefined"==typeof b){b="error"}var c=new M.core.alert({title:M.util.get_string(b,"moodle"),message:a});c.show()}}});
//# sourceMappingURL=helpers.min.js.map
