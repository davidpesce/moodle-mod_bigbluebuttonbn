define ("mod_bigbluebuttonbn/helpers",["core/yui","core/notification"],function(a,b){var c={};return{init:function init(){this.initElementTag();this.initElementFAClass();c=this.initElementActionReversed()},toggleSpinningWheelOn:function toggleSpinningWheelOn(b){var c,d,e,f;c=this.elementId(b.action,b.target);f=M.util.get_string("view_recording_list_action_"+b.action,"bigbluebuttonbn");d=a.one("a#"+c+"-"+b.recordingid);d.setAttribute("data-onclick",d.getAttribute("onclick"));d.setAttribute("onclick","");e=d.one("> i");if(null===e){this.toggleSpinningWheelOnCompatible(d,f);return}e.setAttribute("data-aria-label",e.getAttribute("aria-label"));e.setAttribute("aria-label",f);e.setAttribute("data-title",e.getAttribute("title"));e.setAttribute("title",f);e.setAttribute("data-class",e.getAttribute("class"));e.setAttribute("class",this.elementFaClass.process)},toggleSpinningWheelOnCompatible:function toggleSpinningWheelOnCompatible(a,b){var c=a.one("> img");if(null===c){return}c.setAttribute("data-alt",c.getAttribute("alt"));c.setAttribute("alt",b);c.setAttribute("data-title",c.getAttribute("title"));c.setAttribute("title",b);c.setAttribute("data-src",c.getAttribute("src"));c.setAttribute("src","pix/i/processing16.gif")},toggleSpinningWheelOff:function toggleSpinningWheelOff(b){var c,d,e;c=this.elementId(b.action,b.target);d=a.one("a#"+c+"-"+b.recordingid);d.setAttribute("onclick",d.getAttribute("data-onclick"));d.removeAttribute("data-onclick");e=d.one("> i");if(null===e){this.toggleSpinningWheelOffCompatible(d.one("> img"));return}e.setAttribute("aria-label",e.getAttribute("data-aria-label"));e.removeAttribute("data-aria-label");e.setAttribute("title",e.getAttribute("data-title"));e.removeAttribute("data-title");e.setAttribute("class",e.getAttribute("data-class"));e.removeAttribute("data-class")},toggleSpinningWheelOffCompatible:function toggleSpinningWheelOffCompatible(a){if(null===a){return}a.setAttribute("alt",a.getAttribute("data-alt"));a.removeAttribute("data-alt");a.setAttribute("title",a.getAttribute("data-title"));a.removeAttribute("data-title");a.setAttribute("src",a.getAttribute("data-src"));a.removeAttribute("data-src")},updateData:function updateData(a){console.log("updateData: data object");console.log(a);var b,d,e,f,g,h,i;b=c[a.action];if(b===a.action){return}d=this.elementId(a.action,a.target);e=Y.one("a#"+d+"-"+a.recordingid);e.setAttribute("data-action",b);f=e.getAttribute("data-onclick").replace(this.capitalize(a.action),this.capitalize(b));e.setAttribute("data-onclick",f);h=M.util.get_string("view_recording_list_actionbar_"+b,"bigbluebuttonbn");i=this.elementTag[b];g=e.one("> i");if(null===g){this.updateDataCompatible(e.one("> img"),this.elementTag[a.action],i,h);return}g.setAttribute("data-aria-label",h);g.setAttribute("data-title",h);g.setAttribute("data-class",this.elementFaClass[b])},updateDataCompatible:function updateDataCompatible(a,b,c,d){if(null===a){return}var e=a.getAttribute("data-src");a.setAttribute("data-alt",d);a.setAttribute("data-title",d);a.setAttribute("data-src",e.replace(c,b))},updateId:function updateId(b){var d,e,f,g,h;d=c[b.action];if(d===b.action){return}e=this.elementId(b.action,b.target);f=a.one("a#"+e+"-"+b.recordingid);h=""+e.replace(b.action,d)+"-"+b.recordingid;f.setAttribute("id",h);g=f.one("> i");if(null===g){g=f.one("> img")}g.removeAttribute("id")},elementId:function elementId(a,b){var c="recording-"+a;if("undefined"!=typeof b){c+="-"+b}return c},initElementTag:function initElementTag(){return{play:"play",publish:"hide",unpublish:"show",protect:"lock",unprotect:"unlock",edit:"edit",process:"process",import:"import",delete:"delete"}},initElementFAClass:function initElementFAClass(){return{publish:"icon fa fa-eye-slash fa-fw iconsmall",unpublish:"icon fa fa-eye fa-fw iconsmall",protect:"icon fa fa-unlock fa-fw iconsmall",unprotect:"icon fa fa-lock fa-fw iconsmall",edit:"icon fa fa-pencil fa-fw iconsmall",process:"icon fa fa-spinner fa-spin iconsmall",import:"icon fa fa-download fa-fw iconsmall",delete:"icon fa fa-trash fa-fw iconsmall"}},initElementActionReversed:function initElementActionReversed(){return{play:"play",publish:"unpublish",unpublish:"publish",protect:"unprotect",unprotect:"protect",edit:"edit",import:"import",delete:"delete"}},reloadPreview:function reloadPreview(a){var b=Y.one("#preview-"+a).all("> img");b.each(function(a){var b=a.getAttribute("src");b=b.substring(0,b.indexOf("?"));b+="?"+new Date().getTime();a.setAttribute("src",b)})},capitalize:function capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)},alertError:function alertError(a,c){if("undefined"==typeof c){c="error"}b.alert(c,a,"Continue")}}});
//# sourceMappingURL=helpers.min.js.map
