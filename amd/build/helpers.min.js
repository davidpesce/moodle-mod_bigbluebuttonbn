define ("mod_bigbluebuttonbn/helpers",["jquery","core/yui","core/notification","core/str"],function(a,b,c,d){var e={},f={},g={};return{init:function init(){e=this.initElementTag();f=this.initElementFAClass();g=this.initElementActionReversed()},toggleSpinningWheelOn:function toggleSpinningWheelOn(a){var c,d,e,f;c=this.elementId(a.action,a.target);f=M.util.get_string("view_recording_list_action_"+a.action,"bigbluebuttonbn");d=b.one("a#"+c+"-"+a.recordingid);d.setAttribute("data-onclick",d.getAttribute("onclick"));d.setAttribute("onclick","");e=d.one("> i");if(null===e){this.toggleSpinningWheelOnCompatible(d,f);return}e.setAttribute("data-aria-label",e.getAttribute("aria-label"));e.setAttribute("aria-label",f);e.setAttribute("data-title",e.getAttribute("title"));e.setAttribute("title",f);e.setAttribute("data-class",e.getAttribute("class"));e.setAttribute("class",this.elementFaClass.process)},toggleSpinningWheelOnCompatible:function toggleSpinningWheelOnCompatible(a,b){var c=a.one("> img");if(null===c){return}c.setAttribute("data-alt",c.getAttribute("alt"));c.setAttribute("alt",b);c.setAttribute("data-title",c.getAttribute("title"));c.setAttribute("title",b);c.setAttribute("data-src",c.getAttribute("src"));c.setAttribute("src","pix/i/processing16.gif")},toggleSpinningWheelOff:function toggleSpinningWheelOff(a){var c,d,e;c=this.elementId(a.action,a.target);d=b.one("a#"+c+"-"+a.recordingid);d.setAttribute("onclick",d.getAttribute("data-onclick"));d.removeAttribute("data-onclick");e=d.one("> i");if(null===e){this.toggleSpinningWheelOffCompatible(d.one("> img"));return}e.setAttribute("aria-label",e.getAttribute("data-aria-label"));e.removeAttribute("data-aria-label");e.setAttribute("title",e.getAttribute("data-title"));e.removeAttribute("data-title");e.setAttribute("class",e.getAttribute("data-class"));e.removeAttribute("data-class")},toggleSpinningWheelOffCompatible:function toggleSpinningWheelOffCompatible(a){if(null===a){return}a.attr("alt",a.attr("data-alt"));a.removeAttr("data-alt");a.attr("title",a.attr("data-title"));a.removeAttr("data-title");a.attr("src",a.attr("data-src"));a.removeAttr("data-src")},updateData:function updateData(b){var c=this,h,i,j,k,l,m,n;h=g[b.action];if(h===b.action){return}var o=[{key:"view_recording_list_actionbar_"+h,component:"bigbluebuttonbn"}];d.get_strings(o).done(function(d){i=c.elementId(b.action,b.target);j=a("a#"+i+"-"+b.recordingid);j.attr("data-action",h);k=j.attr("data-onclick").replace(c.capitalize(b.action),c.capitalize(h));j.attr("data-onclick",k);m=d[0];n=e[h];l=j.find("i");if(null===l){this.updateDataCompatible(j.find("img"),e[b.action],n,m);return}l.attr("data-aria-label",m);l.attr("data-title",m);l.attr("data-class",f[h])})},updateDataCompatible:function updateDataCompatible(a,b,c,d){if(null===a){return}var e=a.attr("data-src");a.attr("data-alt",d);a.attr("data-title",d);a.attr("data-src",e.replace(c,b))},updateId:function updateId(b){var c,d,e,f,h;c=g[b.action];if(c===b.action){return}d=this.elementId(b.action,b.target);e=a("a#"+d+"-"+b.recordingid);h=""+d.replace(b.action,c)+"-"+b.recordingid;e.attr("id",h);f=e.find("i");if(null===f){f=e.find("img")}f.removeAttr("id")},elementId:function elementId(a,b){var c="recording-"+a;if("undefined"!=typeof b){c+="-"+b}return c},initElementTag:function initElementTag(){return{play:"play",publish:"hide",unpublish:"show",protect:"lock",unprotect:"unlock",edit:"edit",process:"process",import:"import",delete:"delete"}},initElementFAClass:function initElementFAClass(){return{publish:"icon fa fa-eye-slash fa-fw iconsmall",unpublish:"icon fa fa-eye fa-fw iconsmall",protect:"icon fa fa-unlock fa-fw iconsmall",unprotect:"icon fa fa-lock fa-fw iconsmall",edit:"icon fa fa-pencil fa-fw iconsmall",process:"icon fa fa-spinner fa-spin iconsmall",import:"icon fa fa-download fa-fw iconsmall",delete:"icon fa fa-trash fa-fw iconsmall"}},initElementActionReversed:function initElementActionReversed(){return{play:"play",publish:"unpublish",unpublish:"publish",protect:"unprotect",unprotect:"protect",edit:"edit",import:"import",delete:"delete"}},reloadPreview:function reloadPreview(a){var b=Y.one("#preview-"+a).find("img");b.each(function(a){var b=a.attr("src");b=b.substring(0,b.indexOf("?"));b+="?"+new Date().getTime();a.attr("src",b)})},capitalize:function capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)},alertError:function alertError(a,b){if("undefined"==typeof b){b="error"}c.alert(b,a,"Continue")}}});
//# sourceMappingURL=helpers.min.js.map
