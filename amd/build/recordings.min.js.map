{"version":3,"sources":["../src/recordings.js"],"names":["define","$","mdlcfg","str","Helpers","yui","ModalFactory","ModalEvents","datasource","SELECTORS","FORM_SEARCH_RECORDINGS","SEARCH_TEXT","RECORDING_IMPORTED","init","self","wwwroot","sesskey","each","i","val","click","recordingDelete","recordingUnpublish","recordingPublish","recordingElementPayload","element","parent_div","closest","action","attr","recordingid","meetingid","recordingAction","confirmation","extras","payload","attrname","recordingActionPerform","create","type","types","SAVE_CANCEL","title","body","recordingConfirmationMessage","then","modal","setSaveButtonText","getRoot","on","save","show","data","qs","recordingActionMetaQS","attempt","attempts","getJSON","url","done","response","goalstate","recordingActionCompletion","recordingActionPerformedComplete","recordingActionPerformedValidate","fail","jqXHR","textStatus","message","responseText","recordingActionFailover","source","meta","encodeURIComponent","JSON","stringify","setTimeout","get_string","e","get_strings","key","component","s","recordingCurrentState","published","status","secured","updated","recordingProtect","recordingUnprotect","requireConfirmation","recordingIsImported","recordingImport","recordingUpdate","nodeelement","Y","one","node","ancestor","target","getAttribute","recordingEdit","link","text","hide","inputtext","Node","setAttribute","getHTML","recordingEditKeydown","recordingEditOnfocusout","append","focus","select","event","keyCode","which","recordingEditPerform","currentTarget","get","trim","getDOMNode","setHTML","recordingEditCompletion","failed","elementid","elementId","remove","recordingPlay","alertError","M","util","dataset","getData","windowVideoPlay","window","open","opener","recordingType","associatedLinks","confirmationWarning","stringsToRetrieve","imported","replace","links","container","table","row","children","length","before","toggleSpinningWheelOff","location","href","updateData","updateId","recordingPublishCompletion","recordingUnpublishCompletion","playbacks","preview","reloadPreview","prop"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package   mod_bigbluebuttonbn\n * @copyright 2020 onwards, Blindside Networks Inc\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @author    David Pesce  (david.pesce [at] exputo [dt] com)\n\n * @module mod_bigbluebuttonbn/recordings\n*/\n\ndefine(['jquery', 'core/config', 'core/str', 'mod_bigbluebuttonbn/helpers',\n    'core/yui', 'core/modal_factory', 'core/modal_events'],\n    function ($, mdlcfg, str, Helpers, yui, ModalFactory, ModalEvents) {\n\n        /**\n         * Declare variables.\n         */\n        var datasource = null;\n\n        /**\n         * jQuery selectors for easy reference.\n         */\n        var SELECTORS = {\n            FORM_SEARCH_RECORDINGS: '#bigbluebuttonbn_recordings_searchform',\n            SEARCH_TEXT: '#searchtext',\n            RECORDING_IMPORTED: 'data-imported'\n        };\n\n        var Recordings = {\n            /**\n            * Initialize recording display. Set onclick handlers for publish, unpublish, delete, update, or protect.\n            */\n            init: function () {\n                var self = this;\n                datasource = mdlcfg.wwwroot + \"/mod/bigbluebuttonbn/bbb_ajax.php?sesskey=\" + mdlcfg.sesskey + \"&\";\n\n                //Add onclick event listeners to delete buttons\n                $('[id^=recording-delete-]').each(function (i, val) {\n                    $(val).click(function () {\n                        self.recordingDelete(val);\n                    });\n                });\n\n                //Add onclick event listeners to publish.\n                $('[id^=recording-unpublish-]').each(function (i, val) {\n                    $(val).click(function () {\n                        self.recordingUnpublish(val);\n                    });\n                });\n\n                //Add onclick event listeners to publish.\n                $('[id^=recording-publish-]').each(function (i, val) {\n                    $(val).click(function () {\n                        self.recordingPublish(val);\n                    });\n                });\n\n                Helpers.init();\n            },\n\n            /**\n             * Obtain and return the JQuery objects related to the action performed.\n             *\n             * @param {jQuery} element\n             * @returns {{action: jQuery, meetingid: jQuery, recordingid: jQuery}}\n             */\n            recordingElementPayload: function (element) {\n                var parent_div = $(element).closest('div');\n                return {\n                    action: $(element).attr('data-action'),\n                    recordingid: parent_div.attr('data-recordingid'),\n                    meetingid: parent_div.attr('data-meetingid')\n                };\n            },\n\n            /**\n             * Determine the requested action and display confirmation (if needed).\n             *\n             * @param {jQuery} element\n             * @param {boolean} confirmation\n             * @param {Object} extras\n             */\n            recordingAction: function (element, confirmation, extras) {\n                var self = this;\n                var payload = this.recordingElementPayload(element);\n                for (var attrname in extras) {\n                    payload[attrname] = extras[attrname];\n                }\n                // The action doesn't require confirmation.\n                if (!confirmation) {\n                    self.recordingActionPerform(payload);\n                    return;\n                }\n\n                // Create the confirmation dialogue.\n                ModalFactory.create({\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    title: 'Are you sure?',\n                    body: self.recordingConfirmationMessage(payload)\n                })\n                    .then(function (modal) {\n                        modal.setSaveButtonText('Delete');\n                        modal.getRoot().on(ModalEvents.save, function () {\n                            self.recordingActionPerform(payload);\n                        });\n                        modal.show();\n                    });\n            },\n\n            /**\n             * Perform the requested recording action.\n             *\n             * @param {Object} data\n             */\n            recordingActionPerform: function (data) {\n                var self = this;\n                var qs = \"action=recording_\" + data.action + \"&id=\" + data.recordingid + \"&idx=\" + data.meetingid;\n                qs += this.recordingActionMetaQS(data);\n                data.attempt = 1;\n                if (typeof data.attempts === 'undefined') {\n                    data.attempts = 5;\n                }\n                $.getJSON({\n                    url: datasource + qs\n                })\n                    .done(function (response) {\n                        // There is no need for verification.\n                        if (typeof data.goalstate === 'undefined') {\n                            return self.recordingActionCompletion(data);\n                        }\n                        // Use the current response for verification.\n                        if (data.attempts <= 1) {\n                            return self.recordingActionPerformedComplete(response, data);\n                        }\n                        // Iterate the verification.\n                        return self.recordingActionPerformedValidate(data);\n                    })\n                    .fail(function (jqXHR, textStatus) {\n                        data.message = \"Request failed: \" + textStatus + \" responseText: \" + jqXHR.responseText;\n                        return self.recordingActionFailover(data);\n                    });\n            },\n\n            /**\n             * Gathers additional metadata to be included in query string.\n             *\n             * @param {Object} data\n             * @returns {string}\n             */\n            recordingActionMetaQS: function (data) {\n                var qs = '';\n                if (typeof data.source !== 'undefined') {\n                    var meta = {};\n                    meta[data.source] = encodeURIComponent(data.goalstate);\n                    qs += \"&meta=\" + JSON.stringify(meta);\n                }\n                return qs;\n            },\n\n            /**\n             *\n             * @param {Object} data\n             */\n            recordingActionPerformedValidate: function (data) {\n                var self = this;\n                var qs = \"action=recording_info&id=\" + data.recordingid + \"&idx=\" + data.meetingid;\n                qs += this.recordingActionMetaQS(data);\n                $.getJSON({\n                    url: datasource + qs\n                })\n                    .done(function (response) {\n                        // Evaluates if the current attempt has been completed.\n                        if (self.recordingActionPerformedComplete(response, data)) {\n                            // It has been completed, so stop the action.\n                            return;\n                        }\n                        // Evaluates if more attempts have to be performed.\n                        if (data.attempt < data.attempts) {\n                            data.attempt += 1;\n                            setTimeout(((function () {\n                                return function () {\n                                    self.recordingActionPerformedValidate(data);\n                                };\n                            })(this)), (data.attempt - 1) * 1000);\n                            return;\n                        }\n                        // No more attempts to perform, it stops with failing over.\n                        data.message = str.get_string('view_error_action_not_completed', 'bigbluebuttonbn');\n                        self.recordingActionFailover(data);\n\n                    })\n                    .fail(function (jqXHR, textStatus) {\n                        data.message = \"Request failed: \" + textStatus + \" responseText: \" + jqXHR.responseText;\n                        self.recordingActionFailover(data);\n                    });\n            },\n\n            /**\n             * Determines if the action performed has completed.\n             *\n             * @param e\n             * @param {Object} data\n             * @returns {boolean}\n             */\n            recordingActionPerformedComplete: function (e, data) {\n                var self = this;\n                var stringsToRetrieve = [\n                    {\n                        key: 'view_error_current_state_not_found',\n                        component: 'bigbluebuttonbn'\n                    }\n                ];\n                str.get_strings(stringsToRetrieve)\n                    .done(function (s) {\n                        // Something went wrong.\n                        if (typeof e[data.source] === 'undefined') {\n                            data.message = s[0];\n                            self.recordingActionFailover(data);\n                            return true;\n                        }\n                        // Evaluates if the state is as expected.\n                        if (e[data.source] === data.goalstate) {\n                            self.recordingActionCompletion(data);\n                            return true;\n                        }\n                        return false;\n                    });\n            },\n\n            /**\n             * Returns the current state of a recording based on action.\n             *\n             * @param {string} action - publish, unpublish, delete, protect, update\n             * @param {Object} data\n             * @returns {null|Item.updated|string|boolean|*}\n             */\n            recordingCurrentState: function (action, data) {\n                if (action === 'publish' || action === 'unpublish') {\n                    return data.published;\n                }\n                if (action === 'delete') {\n                    return data.status;\n                }\n                if (action === 'protect' || action === 'unprotect') {\n                    return data.secured; // The broker responds with secured as protected is a reserved word.\n                }\n                if (action === 'update') {\n                    return data.updated;\n                }\n                return null;\n            },\n\n            recordingPublish: function (element) {\n                var extras = {\n                    source: 'published',\n                    goalstate: 'true'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingUnpublish: function (element) {\n                var extras = {\n                    source: 'published',\n                    goalstate: 'false'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingProtect: function (element) {\n                var extras = {\n                    source: 'protected',\n                    goalstate: 'true'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingUnprotect: function (element) {\n                var extras = {\n                    source: 'protected',\n                    goalstate: 'false'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            /**\n             * Initiates the recording delete request.\n             *\n             * @param {jQuery} element\n             */\n            recordingDelete: function (element) {\n                var extras = {\n                    source: 'found',\n                    goalstate: false\n                };\n                var requireConfirmation = true;\n                if (this.recordingIsImported(element)) {\n                    // When recordingDelete is performed on imported recordings use default response for validation.\n                    requireConfirmation = false;\n                    extras.source = 'status';\n                    extras.goalstate = true;\n                    extras.attempts = 1;\n                }\n                this.recordingAction(element, requireConfirmation, extras);\n            },\n\n            recordingImport: function (element) {\n                var extras = {};\n                this.recordingAction(element, true, extras);\n            },\n\n            recordingUpdate: function (element) {\n                var nodeelement = Y.one(element);\n                var node = nodeelement.ancestor('div');\n                var extras = {\n                    target: node.getAttribute('data-target'),\n                    source: node.getAttribute('data-source'),\n                    goalstate: nodeelement.getAttribute('data-goalstate')\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingEdit: function (element) {\n                var link = Y.one(element);\n                var node = link.ancestor('div');\n                var text = node.one('> span');\n                text.hide();\n                link.hide();\n                var inputtext = Y.Node.create('<input type=\"text\" class=\"form-control\"></input>');\n                inputtext.setAttribute('id', link.getAttribute('id'));\n                inputtext.setAttribute('value', text.getHTML());\n                inputtext.setAttribute('data-value', text.getHTML());\n                inputtext.on('keydown', this.recordingEditKeydown);\n                inputtext.on('focusout', this.recordingEditOnfocusout);\n                node.append(inputtext);\n                inputtext.focus().select();\n            },\n\n            recordingEditKeydown: function (event) {\n                var keyCode = event.which || event.keyCode;\n                if (keyCode == 13) {\n                    this.recordingEditPerform(event.currentTarget);\n                    return;\n                }\n                if (keyCode == 27) {\n                    this.recordingEditOnfocusout(event.currentTarget);\n                }\n            },\n\n            recordingEditOnfocusout: function (nodeelement) {\n                var node = nodeelement.ancestor('div');\n                nodeelement.hide();\n                node.one('> span').show();\n                node.one('> a').show();\n            },\n\n            recordingEditPerform: function (nodeelement) {\n                var node = nodeelement.ancestor('div');\n                var text = nodeelement.get('value').trim();\n                // Perform the update.\n                nodeelement.setAttribute('data-action', 'edit');\n                nodeelement.setAttribute('data-goalstate', text);\n                nodeelement.hide();\n                this.recordingUpdate(nodeelement.getDOMNode());\n                node.one('> span').setHTML(text).show();\n                node.one('> a').show();\n            },\n\n            recordingEditCompletion: function (data, failed) {\n                var elementid = Helpers.elementId(data.action, data.target);\n                var link = Y.one('a#' + elementid + '-' + data.recordingid);\n                var node = link.ancestor('div');\n                var text = node.one('> span');\n                if (typeof text === 'undefined') {\n                    return;\n                }\n                var inputtext = node.one('> input');\n                if (failed) {\n                    text.setHTML(inputtext.getAttribute('data-value'));\n                }\n                inputtext.remove();\n            },\n\n            recordingPlay: function (element) {\n                var nodeelement = Y.one(element);\n                if (nodeelement.getAttribute('data-href') === '') {\n                    Helpers.alertError(\n                        M.util.get_string('view_recording_format_errror_unreachable', 'bigbluebuttonbn')\n                    );\n                    return;\n                }\n                var extras = {\n                    target: nodeelement.getAttribute('data-target'),\n                    source: 'published',\n                    goalstate: 'true',\n                    attempts: 1,\n                    dataset: nodeelement.getData()\n                };\n                // New window for video play must be created previous to ajax requests.\n                this.windowVideoPlay = window.open('', '_blank');\n                // Prevent malicious modification over window opener to use window.open().\n                this.windowVideoPlay.opener = null;\n                this.recordingAction(element, false, extras);\n            },\n\n            /**\n             * Return appropriate message to display in confirmation dialog.\n             *\n             * @param data\n             * @returns {string|*}\n             */\n            recordingConfirmationMessage: function (data) {\n                var confirmation, recordingType, elementid, associatedLinks, confirmationWarning;\n                var stringsToRetrieve = [\n                    {\n                        key: 'view_recording_' + data.action + '_confirmation',\n                        component: 'bigbluebuttonbn'\n                    },\n                    {\n                        key: 'view_recording',\n                        component: 'bigbluebuttonbn'\n                    },\n                    {\n                        key: 'view_recording_link',\n                        component: 'bigbluebuttonbn'\n                    }\n                    ,\n                    {\n                        key: 'view_recording_' + data.action + '_confirmation_warning_p',\n                        component: 'bigbluebuttonbn'\n                    }\n                    ,\n                    {\n                        key: 'view_recording_' + data.action + '_confirmation_warning_s',\n                        component: 'bigbluebuttonbn'\n                    }\n                ];\n                str.get_strings(stringsToRetrieve)\n                    .done(function (s) {\n                        confirmation = s[0];\n                        if (typeof confirmation === 'undefined') {\n                            return '';\n                        }\n\n                        recordingType = s[1];\n                        if (Y.one('#playbacks-' + data.recordingid).get('dataset').imported === 'true') {\n                            recordingType = s[2];\n                        }\n\n                        confirmation = confirmation.replace(\"{$a}\", recordingType);\n                        if (data.action === 'import') {\n                            return confirmation;\n                        }\n                        // If it has associated links imported in a different course/activity, show that in confirmation dialog.\n                        elementid = Helpers.elementId(data.action, data.target);\n                        associatedLinks = Y.one('a#' + elementid + '-' + data.recordingid).get('dataset').links;\n                        if (associatedLinks === 0) {\n                            return confirmation;\n                        }\n\n                        confirmationWarning = s[3];\n                        if (associatedLinks === 1) {\n                            confirmationWarning = s[4];\n                        }\n\n                        confirmationWarning = confirmationWarning.replace(\"{$a}\", associatedLinks) + '. ';\n                        return confirmationWarning + '\\n\\n' + confirmation;\n                    });\n            },\n\n            /**\n             * Refreshes/clears the DOM after an action is performed.\n             *\n             * @param {Object} data\n             */\n            recordingActionCompletion: function (data) {\n                var container, table, row;\n                var stringsToRetrieve = [\n                    {\n                        key: 'view_message_norecordings',\n                        component: 'bigbluebuttonbn'\n                    }\n                ];\n\n                if (data.action === 'delete') {\n                    str.get_strings(stringsToRetrieve)\n                        .done(function (s) {\n                            row = $('div#recording-actionbar-' + data.recordingid).closest('td').closest('tr');\n                            table = row.closest('tbody');\n\n                            if (table.children('tr').length) {\n                                container = $('#bigbluebuttonbn_view_recordings_content');\n                                container.before('<span>' + s + '</span>');\n                                $('#bigbluebuttonbn_recordings_table').remove();\n                                return;\n                            }\n                            row.remove();\n                            return;\n                        });\n\n                }\n                if (data.action === 'import') {\n                    row = Y.one('div#recording-actionbar-' + data.recordingid).ancestor('td').ancestor('tr');\n                    row.remove();\n                    return;\n                }\n                if (data.action === 'play') {\n                    Helpers.toggleSpinningWheelOff(data);\n                    // Update url in window video to show the video.\n                    this.windowVideoPlay.location.href = data.dataset.href;\n                    return;\n                }\n                Helpers.updateData(data);\n                //Helpers.toggleSpinningWheelOff(data);\n                Helpers.updateId(data);\n                if (data.action === 'publish') {\n                    this.recordingPublishCompletion(data.recordingid);\n                    return;\n                }\n                if (data.action === 'unpublish') {\n                    this.recordingUnpublishCompletion(data.recordingid);\n                    return;\n                }\n            },\n\n            recordingActionFailover: function (data) {\n                Helpers.alertError(data.message);\n                Helpers.toggleSpinningWheelOff(data);\n                if (data.action === 'edit') {\n                    this.recordingEditCompletion(data, true);\n                }\n            },\n\n            recordingPublishCompletion: function (recordingid) {\n                var playbacks = Y.one('#playbacks-' + recordingid);\n                playbacks.show();\n                var preview = Y.one('#preview-' + recordingid);\n                if (preview === null) {\n                    return;\n                }\n                preview.show();\n                Helpers.reloadPreview(recordingid);\n            },\n\n            recordingUnpublishCompletion: function (recordingid) {\n                var playbacks = Y.one('#playbacks-' + recordingid);\n                playbacks.hide();\n                var preview = Y.one('#preview-' + recordingid);\n                if (preview === null) {\n                    return;\n                }\n                preview.hide();\n            },\n\n            /**\n             * Determines if recording was imported.\n             *\n             * @param {jQuery} element\n             * @returns {jQuery}\n             */\n            recordingIsImported: function (element) {\n                return $(element).prop(SELECTORS.RECORDING_IMPORTED);\n            }\n        };\n\n        return Recordings;\n    });"],"file":"recordings.min.js"}