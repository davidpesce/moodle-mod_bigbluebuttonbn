{"version":3,"sources":["../src/recordings.js"],"names":["define","$","mdlcfg","str","helpers","broker","yui","datasource","datatable","table","bbbid","SELECTORS","FORM_SEARCH_RECORDINGS","SEARCH_TEXT","init","dataobj","self","wwwroot","sesskey","qs","getJSON","done","bbinfo","console","log","recordings_html","profile_features","locale","columns","data","datatableInitFormatDates","datatableInit","length","click","searchform","one","delegate","e","preventDefault","stopPropagation","value","target","get","set","filterByText","i","date","Date","toLocaleDateString","weekday","year","month","day","initExtraLanguage","Y1","Intl","add","config","lang","first","M","util","get_string","prev","next","last","goToLabel","goToAction","perPage","showAll","escapeRegex","replace","searchvalue","tlist","rsearch","RegExp","filterdata","filter","asList","item","name","description","test","func","use","Y","DataTable","width","rowsPerPage","paginatorLocation","render","recordings","recordingElementPayload","element","nodeelement","node","ancestor","action","getAttribute","recordingid","meetingid","recordingAction","confirmation","extras","payload","attrname","recordingActionPerform","confirm","core","modal","centered","question","recordingConfirmationMessage","on","toggleSpinningWheelOn","sendRequest","request","callback","success","indexOf","recordingPublish","source","goalstate","recordingUnpublish","recordingProtect","recordingUnprotect","recordingDelete","requireConfirmation","recordingIsImported","attempts","recordingImport","recordingUpdate","recordingEdit","link","text","hide","inputtext","Node","create","setAttribute","getHTML","recordingEditKeydown","recordingEditOnfocusout","append","focus","select","event","keyCode","which","recordingEditPerform","currentTarget","show","trim","getDOMNode","setHTML","recordingEditCompletion","failed","elementid","elementId","remove","recordingPlay","alertError","dataset","getData","windowVideoPlay","window","open","opener","recordingType","associatedLinks","confirmationWarning","imported","links","recordingActionCompletion","container","row","all","size","prepend","toggleSpinningWheelOff","location","href","updateData","updateId","recordingPublishCompletion","recordingUnpublishCompletion","recordingActionFailover","message","playbacks","preview","reloadPreview"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package   mod_bigbluebuttonbn\n * @copyright 2020 onwards, Blindside Networks Inc\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @author    David Pesce  (david.pesce [at] exputo [dt] com)\n\n * @module mod_bigbluebuttonbn/recordings\n*/\n\ndefine(['jquery', 'core/config', 'core/str', 'mod_bigbluebuttonbn/helpers', 'mod_bigbluebuttonbn/broker', 'core/yui'],\n    function ($, mdlcfg, str, helpers, broker, yui) {\n\n        /**\n         * Declare variables.\n         */\n        var datasource = null;\n        var datatable = {};\n        var locale = 'en';\n        var windowVideoPlay = null;\n        var table = null;\n        var bbbid = 0;\n\n        /**\n         * jQuery selectors.\n         */\n        var SELECTORS = {\n            FORM_SEARCH_RECORDINGS: '#bigbluebuttonbn_recordings_searchform',\n            SEARCH_TEXT: '#searchtext'\n        };\n\n        var Recordings = {\n            /**\n            * Initialize recording display.\n            * @param {object} dataobj\n            */\n            init: function (dataobj) {\n                var self = this;\n                bbbid = dataobj.bbbid;\n                datasource = mdlcfg.wwwroot + \"/mod/bigbluebuttonbn/bbb_ajax.php?sesskey=\" + mdlcfg.sesskey + \"&\";\n                var qs = \"id=\" + bbbid + \"&action=recording_list_table\";\n                $.getJSON(datasource + qs)\n                    .done(function (bbinfo) {\n                        console.log(bbinfo);\n\n                        //Use below to trigger YUI table.\n                        //bbinfo.recordings_html = false;\n\n                        //This is all YUI table 'stuff'. Remove?\n                        if (bbinfo.recordings_html === false) {\n                            if (bbinfo.profile_features[0] === 'all' || bbinfo.profile_features[0] === 'showrecordings') {\n                                locale = bbinfo.locale;\n                                datatable.columns = bbinfo.data.columns;\n                                datatable.data = self.datatableInitFormatDates(bbinfo.data.data);\n                                self.datatableInit();\n                            }\n                        }\n                    });\n                //This displays the search form if YUI table is enabled.\n                if ($(SELECTORS.FORM_SEARCH_RECORDINGS).length) {\n                    SELECTORS.FORM_SEARCH_RECORDINGS.click(function () {\n                        //Put refactored code here.\n                    });\n                }\n\n                //TODO - This needs to be refactored and put above.\n                var searchform = yui.one('#bigbluebuttonbn_recordings_searchform');\n                if (searchform) {\n                    searchform.delegate('click', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n\n                        var value = null;\n                        if (e.target.get('id') == 'searchsubmit') {\n                            value = yui.one('#searchtext').get('value');\n                        } else {\n                            yui.one('#searchtext').set('value', '');\n                        }\n\n                        this.filterByText(value);\n                    }, 'input[type=submit]', this);\n                }\n                helpers.init();\n            },\n\n            datatableInitFormatDates: function (data) {\n                for (var i = 0; i < data.length; i++) {\n                    var date = new Date(data[i].date);\n                    data[i].date = date.toLocaleDateString(this.locale, {\n                        weekday: 'long',\n                        year: 'numeric',\n                        month: 'long',\n                        day: 'numeric'\n                    });\n                }\n                return data;\n            },\n\n            initExtraLanguage: function (Y1) {\n                Y1.Intl.add(\n                    'datatable-paginator',\n                    Y1.config.lang,\n                    {\n                        first: M.util.get_string('view_recording_yui_first', 'bigbluebuttonbn'),\n                        prev: M.util.get_string('view_recording_yui_prev', 'bigbluebuttonbn'),\n                        next: M.util.get_string('view_recording_yui_next', 'bigbluebuttonbn'),\n                        last: M.util.get_string('view_recording_yui_last', 'bigbluebuttonbn'),\n                        goToLabel: M.util.get_string('view_recording_yui_page', 'bigbluebuttonbn'),\n                        goToAction: M.util.get_string('view_recording_yui_go', 'bigbluebuttonbn'),\n                        perPage: M.util.get_string('view_recording_yui_rows', 'bigbluebuttonbn'),\n                        showAll: M.util.get_string('view_recording_yui_show_all', 'bigbluebuttonbn')\n                    }\n                );\n            },\n\n            escapeRegex: function (value) {\n                return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n            },\n\n            filterByText: function (searchvalue) {\n                if (table) {\n                    table.set('data', datatable.data);\n                    if (searchvalue) {\n                        var tlist = table.data;\n                        var rsearch = new RegExp('<span>.*?' + this.escapeRegex(searchvalue) + '.*?</span>', 'i');\n                        var filterdata = tlist.filter({ asList: true }, function (item) {\n                            var name = item.get('recording');\n                            var description = item.get('description');\n                            return (\n                                (name && rsearch.test(name)) || (description && rsearch.test(description))\n                            );\n                        });\n                        table.set('data', filterdata);\n                    }\n                }\n            },\n\n            datatableInit: function () {\n                var columns = datatable.columns;\n                var data = datatable.data;\n                var func = this.initExtraLanguage;\n                yui({\n                    lang: this.locale\n                }).use('intl', 'datatable', 'datatable-sort', 'datatable-paginator', 'datatype-number', function (Y) {\n                    func(Y);\n                    var table = new Y.DataTable({\n                        width: \"1195px\",\n                        columns: columns,\n                        data: data,\n                        rowsPerPage: 10,\n                        paginatorLocation: ['header', 'footer']\n                    }).render('#bigbluebuttonbn_recordings_table');\n                    recordings.table = table;\n                    return table;\n                });\n            },\n\n            recordingElementPayload: function (element) {\n                var nodeelement = Y.one(element);\n                var node = nodeelement.ancestor('div');\n                return {\n                    action: nodeelement.getAttribute('data-action'),\n                    recordingid: node.getAttribute('data-recordingid'),\n                    meetingid: node.getAttribute('data-meetingid')\n                };\n            },\n\n            recordingAction: function (element, confirmation, extras) {\n                var payload = this.recordingElementPayload(element);\n                for (var attrname in extras) {\n                    payload[attrname] = extras[attrname];\n                }\n                // The action doesn't require confirmation.\n                if (!confirmation) {\n                    this.recordingActionPerform(payload);\n                    return;\n                }\n                // Create the confirmation dialogue.\n                var confirm = new M.core.confirm({\n                    modal: true,\n                    centered: true,\n                    question: this.recordingConfirmationMessage(payload)\n                });\n                // If it is confirmed.\n                confirm.on('complete-yes', function () {\n                    this.recordingActionPerform(payload);\n                }, this);\n            },\n\n            recordingActionPerform: function (data) {\n                var self = this;\n                helpers.toggleSpinningWheelOn(data);\n                broker.recordingActionPerform(data);\n                datasource.sendRequest({\n                    request: \"&id=\" + this.bbbid + \"&action=recording_list_table\",\n                    callback: {\n                        success: function (data) {\n                            var bbinfo = data.data;\n                            if (bbinfo.recordings_html === false &&\n                                (bbinfo.profile_features.indexOf('all') != -1 || bbinfo.profile_features.indexOf('showrecordings') != -1)) {\n                                self.locale = bbinfo.locale;\n                                self.datatable.columns = bbinfo.data.columns;\n                                self.datatable.data = self.datatableInitFormatDates(bbinfo.data.data);\n                            }\n                        }\n                    }\n                });\n            },\n\n            recordingPublish: function (element) {\n                var extras = {\n                    source: 'published',\n                    goalstate: 'true'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingUnpublish: function (element) {\n                var extras = {\n                    source: 'published',\n                    goalstate: 'false'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingProtect: function (element) {\n                var extras = {\n                    source: 'protected',\n                    goalstate: 'true'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingUnprotect: function (element) {\n                var extras = {\n                    source: 'protected',\n                    goalstate: 'false'\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingDelete: function (element) {\n                var extras = {\n                    source: 'found',\n                    goalstate: false\n                };\n                var requireConfirmation = true;\n                if (this.recordingIsImported(element)) {\n                    // When recordingDelete is performed on imported recordings use default response for validation.\n                    requireConfirmation = false;\n                    extras.source = 'status';\n                    extras.goalstate = true;\n                    extras.attempts = 1;\n                }\n                this.recordingAction(element, requireConfirmation, extras);\n            },\n\n            recordingImport: function (element) {\n                var extras = {};\n                this.recordingAction(element, true, extras);\n            },\n\n            recordingUpdate: function (element) {\n                var nodeelement = Y.one(element);\n                var node = nodeelement.ancestor('div');\n                var extras = {\n                    target: node.getAttribute('data-target'),\n                    source: node.getAttribute('data-source'),\n                    goalstate: nodeelement.getAttribute('data-goalstate')\n                };\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingEdit: function (element) {\n                var link = Y.one(element);\n                var node = link.ancestor('div');\n                var text = node.one('> span');\n                text.hide();\n                link.hide();\n                var inputtext = Y.Node.create('<input type=\"text\" class=\"form-control\"></input>');\n                inputtext.setAttribute('id', link.getAttribute('id'));\n                inputtext.setAttribute('value', text.getHTML());\n                inputtext.setAttribute('data-value', text.getHTML());\n                inputtext.on('keydown', this.recordingEditKeydown);\n                inputtext.on('focusout', this.recordingEditOnfocusout);\n                node.append(inputtext);\n                inputtext.focus().select();\n            },\n\n            recordingEditKeydown: function (event) {\n                var keyCode = event.which || event.keyCode;\n                if (keyCode == 13) {\n                    this.recordingEditPerform(event.currentTarget);\n                    return;\n                }\n                if (keyCode == 27) {\n                    this.recordingEditOnfocusout(event.currentTarget);\n                }\n            },\n\n            recordingEditOnfocusout: function (nodeelement) {\n                var node = nodeelement.ancestor('div');\n                nodeelement.hide();\n                node.one('> span').show();\n                node.one('> a').show();\n            },\n\n            recordingEditPerform: function (nodeelement) {\n                var node = nodeelement.ancestor('div');\n                var text = nodeelement.get('value').trim();\n                // Perform the update.\n                nodeelement.setAttribute('data-action', 'edit');\n                nodeelement.setAttribute('data-goalstate', text);\n                nodeelement.hide();\n                this.recordingUpdate(nodeelement.getDOMNode());\n                node.one('> span').setHTML(text).show();\n                node.one('> a').show();\n            },\n\n            recordingEditCompletion: function (data, failed) {\n                var elementid = helpers.elementId(data.action, data.target);\n                var link = Y.one('a#' + elementid + '-' + data.recordingid);\n                var node = link.ancestor('div');\n                var text = node.one('> span');\n                if (typeof text === 'undefined') {\n                    return;\n                }\n                var inputtext = node.one('> input');\n                if (failed) {\n                    text.setHTML(inputtext.getAttribute('data-value'));\n                }\n                inputtext.remove();\n            },\n\n            recordingPlay: function (element) {\n                var nodeelement = Y.one(element);\n                if (nodeelement.getAttribute('data-href') === '') {\n                    helpers.alertError(\n                        M.util.get_string('view_recording_format_errror_unreachable', 'bigbluebuttonbn')\n                    );\n                    return;\n                }\n                var extras = {\n                    target: nodeelement.getAttribute('data-target'),\n                    source: 'published',\n                    goalstate: 'true',\n                    attempts: 1,\n                    dataset: nodeelement.getData()\n                };\n                // New window for video play must be created previous to ajax requests.\n                this.windowVideoPlay = window.open('', '_blank');\n                // Prevent malicious modification over window opener to use window.open().\n                this.windowVideoPlay.opener = null;\n                this.recordingAction(element, false, extras);\n            },\n\n            recordingConfirmationMessage: function (data) {\n                var confirmation, recordingType, elementid, associatedLinks, confirmationWarning;\n                confirmation = M.util.get_string('view_recording_' + data.action + '_confirmation', 'bigbluebuttonbn');\n                if (typeof confirmation === 'undefined') {\n                    return '';\n                }\n                recordingType = M.util.get_string('view_recording', 'bigbluebuttonbn');\n                if (Y.one('#playbacks-' + data.recordingid).get('dataset').imported === 'true') {\n                    recordingType = M.util.get_string('view_recording_link', 'bigbluebuttonbn');\n                }\n                confirmation = confirmation.replace(\"{$a}\", recordingType);\n                if (data.action === 'import') {\n                    return confirmation;\n                }\n                // If it has associated links imported in a different course/activity, show that in confirmation dialog.\n                elementid = helpers.elementId(data.action, data.target);\n                associatedLinks = Y.one('a#' + elementid + '-' + data.recordingid).get('dataset').links;\n                if (associatedLinks === 0) {\n                    return confirmation;\n                }\n                confirmationWarning = M.util.get_string('view_recording_' + data.action + '_confirmation_warning_p',\n                    'bigbluebuttonbn');\n                if (associatedLinks == 1) {\n                    confirmationWarning = M.util.get_string('view_recording_' + data.action + '_confirmation_warning_s',\n                        'bigbluebuttonbn');\n                }\n                confirmationWarning = confirmationWarning.replace(\"{$a}\", associatedLinks) + '. ';\n                return confirmationWarning + '\\n\\n' + confirmation;\n            },\n\n            recordingActionCompletion: function (data) {\n                var container, table, row;\n                if (data.action == 'delete') {\n                    row = Y.one('div#recording-actionbar-' + data.recordingid).ancestor('td').ancestor('tr');\n                    table = row.ancestor('tbody');\n                    if (table.all('tr').size() == 1) {\n                        container = Y.one('#bigbluebuttonbn_view_recordings_content');\n                        container.prepend('<span>' + M.util.get_string('view_message_norecordings', 'bigbluebuttonbn') + '</span>');\n                        container.one('#bigbluebuttonbn_recordings_table').remove();\n                        return;\n                    }\n                    row.remove();\n                    return;\n                }\n                if (data.action == 'import') {\n                    row = Y.one('div#recording-actionbar-' + data.recordingid).ancestor('td').ancestor('tr');\n                    row.remove();\n                    return;\n                }\n                if (data.action == 'play') {\n                    helpers.toggleSpinningWheelOff(data);\n                    // Update url in window video to show the video.\n                    this.windowVideoPlay.location.href = data.dataset.href;\n                    return;\n                }\n                helpers.updateData(data);\n                helpers.toggleSpinningWheelOff(data);\n                helpers.updateId(data);\n                if (data.action === 'publish') {\n                    this.recordingPublishCompletion(data.recordingid);\n                    return;\n                }\n                if (data.action === 'unpublish') {\n                    this.recordingUnpublishCompletion(data.recordingid);\n                    return;\n                }\n            },\n\n            recordingActionFailover: function (data) {\n                helpers.alertError(data.message);\n                helpers.toggleSpinningWheelOff(data);\n                if (data.action === 'edit') {\n                    this.recordingEditCompletion(data, true);\n                }\n            },\n\n            recordingPublishCompletion: function (recordingid) {\n                var playbacks = Y.one('#playbacks-' + recordingid);\n                playbacks.show();\n                var preview = Y.one('#preview-' + recordingid);\n                if (preview === null) {\n                    return;\n                }\n                preview.show();\n                helpers.reloadPreview(recordingid);\n            },\n\n            recordingUnpublishCompletion: function (recordingid) {\n                var playbacks = Y.one('#playbacks-' + recordingid);\n                playbacks.hide();\n                var preview = Y.one('#preview-' + recordingid);\n                if (preview === null) {\n                    return;\n                }\n                preview.hide();\n            },\n\n            recordingIsImported: function (element) {\n                var nodeelement = Y.one(element);\n                var node = nodeelement.ancestor('tr');\n                return (node.getAttribute('data-imported') === 'true');\n            }\n        };\n\n        return Recordings;\n\n    });"],"file":"recordings.min.js"}